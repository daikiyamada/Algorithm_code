import java.util.*;public class Main {    public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        int N = sc.nextInt();        int K = sc.nextInt();        int [] A = new int[N];        int [] CNT = new int[K+1];        Arrays.fill(CNT,0);        int min = 999999999;        /*0~Kのウィンドウで検索*/        for(int i=0;i<N;i++) {            A[i] = sc.nextInt();            if(i<K&&A[i]<=K){                if(CNT[A[i]]==0)CNT[0]++;                CNT[A[i]]++;            }        }        int left = 0, right = K-1;        if(CNT[0]==K) System.out.println(K);        else{            for(int i=K;i<N;i++){                int tmp = A[i];                /*右側の追加*/                if(tmp<=K){                    if(CNT[tmp]==0) CNT[0]++;                    CNT[tmp]++;                }                right++;                /*左側の削除*/                while(right-left+1>K){                    int t = A[left];                    if(t<=K&&CNT[t]>1){                        left++;                        CNT[t]--;                    }                    else if(t>K) left++;                    else break;                }                if(CNT[0]==K&&(right-left+1)<min)min = (right-left+1);            }            if(min==999999999) min=0;            System.out.println(min);        }    }}