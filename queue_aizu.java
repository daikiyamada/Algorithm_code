import java.util.*;public class Main {    public static void main(String [] args) {        Scanner sc = new Scanner(System.in);        int n = sc.nextInt();        int q = sc.nextInt();        Map<Integer,Deque<Long>> queue = new HashMap<>();        StringBuilder sb = new StringBuilder();        for(int i=0;i<n;i++){            Deque<Long> L = new ArrayDeque<>();            queue.put(i,L);        }        for(int i=0;i<q;i++){            int cmd = sc.nextInt();            int t = sc.nextInt();            if(cmd==0)queue.get(t).add(sc.nextLong());            else if(cmd==1 && queue.get(t).size()!=0) sb.append(queue.get(t).peek()+"\n");            else if(cmd==2 && queue.get(t).size()!=0) queue.get(t).poll();        }        System.out.print(sb);    }}